var e=Object.defineProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,d=(e,d)=>{for(var o in d||(d={}))t.call(d,o)&&n(e,o,d[o]);if(a)for(var o of a(d))l.call(d,o)&&n(e,o,d[o]);return e};import{_ as o}from"./index-63odVBlA.js";/* empty css                       *//* empty css                       */import{k as u,r,c as s,m as c,t as p,x as i,y as v,z as m,F as y,G as b,I as g,J as f,N as D,i as V,u as _,bd as Y,a3 as w,a4 as k,L as h,aX as j,b6 as x,T as M,b7 as C,S as O,v as U,P as I,a6 as P}from"./vendor-DaJLkETo.js";const S={class:"page-content"},$=["onClick"],q={class:"calendar-date"},z={class:"calendar-events"},E=["onClick"],F={class:"dialog-footer"},G=o(u({__name:"index",setup(e){const a=[{label:"基本",value:"bg-primary"},{label:"成功",value:"bg-success"},{label:"警告",value:"bg-warning"},{label:"危险",value:"bg-danger"}],t=r(new Date("2025-02-07")),l=r([{date:"2025-02-01",content:"产品需求评审",type:"bg-primary"},{date:"2025-02-03",endDate:"2025-02-05",content:"项目周报会议（跨日期）",type:"bg-primary"},{date:"2025-02-10",content:"瑜伽课程",type:"bg-success"},{date:"2025-02-15",content:"团队建设活动",type:"bg-primary"},{date:"2025-02-20",content:"健身训练",type:"bg-success"},{date:"2025-02-20",content:"代码评审",type:"bg-danger"},{date:"2025-02-20",content:"团队午餐",type:"bg-primary"},{date:"2025-02-20",content:"项目进度汇报",type:"bg-warning"},{date:"2025-02-28",content:"月度总结会",type:"bg-warning"}]),n=r(!1),o=r("添加事件"),u=r(-1),G=r({date:"",endDate:"",content:"",type:"bg-primary"}),J=s((()=>u.value>=0)),L=()=>{G.value={date:"",endDate:"",content:"",type:"bg-primary"},u.value=-1},N=()=>{G.value.content&&G.value.date&&(J.value?l.value[u.value]=d({},G.value):l.value.push(d({},G.value)),n.value=!1,L())},T=()=>{J.value&&(l.value.splice(u.value,1),n.value=!1,L())};return(e,r)=>{const s=Y,X=h,A=k,B=x,H=j,K=C,Q=w,R=I,W=P;return p(),c("div",S,[i(s,{modelValue:_(t),"onUpdate:modelValue":r[0]||(r[0]=e=>V(t)?t.value=e:null)},{"date-cell":v((({data:e})=>{return[m("div",{class:y(["calendar-cell",{"is-selected":e.isSelected}]),onClick:a=>{return t=e.day,o.value="添加事件",G.value={date:t,content:"",type:"bg-primary"},u.value=-1,void(n.value=!0);var t}},[m("p",q,b((t=e.day,t.split("-")[2])),1),m("div",z,[(p(!0),c(g,null,f((a=e.day,l.value.filter((e=>{const t=new Date(e.date),l=new Date(a),n=e.endDate?new Date(e.endDate):new Date(e.date);return l>=t&&l<=n}))),(e=>(p(),c("div",{key:`${e.date}-${e.content}`,class:"calendar-event",onClick:D((a=>(e=>{o.value="编辑事件",G.value=d({},e),u.value=l.value.findIndex((a=>a.date===e.date&&a.content===e.content)),n.value=!0})(e)),["stop"])},[m("div",{class:y(["event-tag",[`${e.type||"bg-primary"}`]])},b(e.content),3)],8,E)))),128))])],10,$)];var a,t})),_:1},8,["modelValue"]),i(W,{modelValue:_(n),"onUpdate:modelValue":r[5]||(r[5]=e=>V(n)?n.value=e:null),title:_(o),width:"600px",onClosed:L},{footer:v((()=>[m("span",F,[_(J)?(p(),O(R,{key:0,type:"danger",onClick:T},{default:v((()=>r[6]||(r[6]=[M(" 删除 ")]))),_:1,__:[6]})):U("",!0),i(R,{type:"primary",onClick:N},{default:v((()=>[M(b(_(J)?"更新":"添加"),1)])),_:1})])])),default:v((()=>[i(Q,{model:_(G),"label-width":"80px"},{default:v((()=>[i(A,{label:"活动标题",required:""},{default:v((()=>[i(X,{modelValue:_(G).content,"onUpdate:modelValue":r[1]||(r[1]=e=>_(G).content=e),placeholder:"请输入活动标题"},null,8,["modelValue"])])),_:1}),i(A,{label:"事件颜色"},{default:v((()=>[i(H,{modelValue:_(G).type,"onUpdate:modelValue":r[2]||(r[2]=e=>_(G).type=e)},{default:v((()=>[(p(),c(g,null,f(a,(e=>i(B,{key:e.value,value:e.value},{default:v((()=>[M(b(e.label),1)])),_:2},1032,["value"]))),64))])),_:1},8,["modelValue"])])),_:1}),i(A,{label:"开始日期",required:""},{default:v((()=>[i(K,{style:{width:"100%"},modelValue:_(G).date,"onUpdate:modelValue":r[3]||(r[3]=e=>_(G).date=e),type:"date",placeholder:"选择日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD"},null,8,["modelValue"])])),_:1}),i(A,{label:"结束日期"},{default:v((()=>[i(K,{style:{width:"100%"},modelValue:_(G).endDate,"onUpdate:modelValue":r[4]||(r[4]=e=>_(G).endDate=e),type:"date",placeholder:"选择结束日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","min-date":_(G).date},null,8,["modelValue","min-date"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])])}}}),[["__scopeId","data-v-d442f1d9"]]);export{G as default};

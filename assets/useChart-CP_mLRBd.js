var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(t,n,i)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,o=(e,o)=>{for(var l in o||(o={}))n.call(o,l)&&r(e,l,o[l]);if(t)for(var l of t(o))i.call(o,l)&&r(e,l,o[l]);return e};import{i as l}from"./index-Bqf32_B1.js";import{s as a,r as s,w as u,e as c,aF as h,B as m,n as f}from"./vendor-DaJLkETo.js";import{g as p,a as d}from"./index-63odVBlA.js";const y=()=>({chartHeight:"16rem",fontSize:13,fontColor:"#999",themeColor:p("--el-color-primary-light-1")});function w(e={}){const{initOptions:t,initDelay:n=0,threshold:i=.1,autoTheme:r=!0}=e,p=d(),{isDark:w,menuOpen:v,menuType:g}=a(p),O=s();let b=null,E=null,S=null,C=null,T=null,D=!1;const z=()=>{T&&cancelAnimationFrame(T),T=requestAnimationFrame((()=>{I(),T=null}))},A=()=>{C&&clearTimeout(C),C=window.setTimeout((()=>{z(),C=null}),100)};u(v,(()=>{f((()=>{z()}));[50,100,200,350].forEach((e=>{setTimeout((()=>{z()}),e)}))})),u(g,(()=>{f((()=>{z()})),setTimeout((()=>{[50,100,200].forEach((e=>{setTimeout((()=>{z()}),e)}))}),0)})),r&&u(w,(()=>{b&&!D&&requestAnimationFrame((()=>{if(b&&!D){const e=b.getOption();e&&F(e)}}))}));const j=()=>{E&&(E.disconnect(),E=null)},x=(e={})=>{if(!O.value||D)return;const r=o(o({},t),e);try{if((e=>{const t=e.getBoundingClientRect();return t.width>0&&t.height>0&&t.top<window.innerHeight&&t.bottom>0})(O.value)){const e=()=>{b||!O.value||D||(b=l(O.value)),b&&!D&&(b.setOption(r),S=null)};n>0?setTimeout(e,n):e()}else S=r,!E&&O.value&&(E=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&S&&!D&&requestAnimationFrame((()=>{if(!D&&S)try{b||(b=l(e.target)),b.setOption(S),S=null,j()}catch(t){}}))}))}),{threshold:i}),E.observe(O.value))}catch(a){}},F=e=>{if(!D)try{if(!b)return void x(e);b.setOption(e)}catch(t){}},I=()=>{if(b&&!D)try{b.resize()}catch(e){}},L=()=>{if(D=!0,b)try{b.dispose()}catch(e){}finally{b=null}j(),C&&(clearTimeout(C),C=null),T&&(cancelAnimationFrame(T),T=null),S=null};return c((()=>{window.addEventListener("resize",A)})),h((()=>{window.removeEventListener("resize",A)})),m((()=>{L()})),{isDark:w,chartRef:O,initChart:x,updateChart:F,handleResize:I,destroyChart:L,getChartInstance:()=>b,isChartInitialized:()=>null!==b,getAxisLineStyle:(e=!0)=>({show:e,lineStyle:{color:w.value?"#444":"#EDEDED",width:1}}),getSplitLineStyle:(e=!0)=>({show:e,lineStyle:{color:w.value?"#444":"#EDEDED",width:1,type:"dashed"}}),getAxisLabelStyle:(e=!0)=>({show:e,color:y().fontColor,fontSize:y().fontSize}),getAxisTickStyle:()=>({show:!1}),useChartOps:y}}export{y as a,w as u};
